(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{14:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),a=s(8),c=s.n(a),i=(s(14),s(9)),o=s(6),l=s(2),d=s(3),h=s(5),u=s(4),j=s(0),p=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).onChangeInput=function(t){e.props.searching(t.target.value)},e}return Object(d.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("label",{className:"searching-label",children:["Search by name:",Object(j.jsx)("input",{value:this.props.seachingData,onChange:this.onChangeInput,placeholder:"Enter searching data"})]})}}]),s}(r.a.Component),g=p,b=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).states=[],e.allStates=e.props.users.map((function(t){e.states.includes(t.adress.state)||e.states.push(t.adress.state)})),e.onSelectState=function(t){var s=t.target.value;e.props.changeSelectedState(s)},e}return Object(d.a)(s,[{key:"render",value:function(){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("label",{className:"select-state-label",children:[" ","Select state:",Object(j.jsx)("select",{onChange:this.onSelectState,value:this.props.selectedState,children:this.states.map((function(e){return Object(j.jsx)("option",{children:e},e)}))})]}),Object(j.jsx)("button",{className:"reset-state",onClick:this.onSelectState,value:"",children:"Reset selected state"})]})}}]),s}(r.a.Component),f=b,O=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){var e=this,t=this.props.user,s=t.id,n=t.firstName,r=t.lastName,a=t.email,c=t.phone,i=this.props.user.adress.state;return Object(j.jsxs)("tr",{onClick:function(){return e.props.changeSelectedProfile(e.props.index)},className:this.props.index===this.props.selectedProfileKey?" users-table__row current":"users-table__row",children:[Object(j.jsx)("td",{children:s}),Object(j.jsx)("td",{children:n}),Object(j.jsx)("td",{children:r}),Object(j.jsx)("td",{children:a}),Object(j.jsx)("td",{children:c}),Object(j.jsx)("td",{children:i})]})}}]),s}(r.a.Component),v=O,x=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).goToPage=function(t){e.props.changeCurrentPage(+t.target.innerHTML)},e.goToNextPage=function(){e.props.currentPage<e.props.pagesNumber&&e.props.changeCurrentPage(e.props.currentPage+1)},e.goToPrevPage=function(){e.props.currentPage>1&&e.props.changeCurrentPage(e.props.currentPage-1)},e.onSorting=function(t){var s=t.target.getAttribute("name");e.props.changeSortingOptions(s)},e}return Object(d.a)(s,[{key:"render",value:function(){for(var e=this,t=this.props,s=t.users,n=t.selectedProfileKey,r=t.changeSelectedProfile,a=t.currentPage,c=t.pageSize,i=t.pagesNumber,o=this.props.sortingOptions,l=o.order,d=o.field,h=[],u=1;u<=i;u++)h.push(u);var p=(a-1)*c,g=a*c;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("table",{className:"users-table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsxs)("th",{onClick:this.onSorting,name:"id",children:["id ","id"===d?"asc"===l?"\u25b2":"\u25bc":null]}),Object(j.jsxs)("th",{onClick:this.onSorting,name:"firstName",children:["firstName ","firstName"===d?"asc"===l?"\u25b2":"\u25bc":null]}),Object(j.jsxs)("th",{onClick:this.onSorting,name:"lastName",children:["lastName ","lastName"===d?"asc"===l?"\u25b2":"\u25bc":null]}),Object(j.jsxs)("th",{onClick:this.onSorting,name:"email",children:["email ","email"===d?"asc"===l?"\u25b2":"\u25bc":null]}),Object(j.jsxs)("th",{onClick:this.onSorting,name:"phone",children:["phone ","phone"===d?"asc"===l?"\u25b2":"\u25bc":null]}),Object(j.jsxs)("th",{onClick:this.onSorting,name:"state",children:["state ","state"===d?"asc"===l?"\u25b2":"\u25bc":null]})]})}),Object(j.jsx)("tbody",{children:s.slice(p,g).map((function(e){return Object(j.jsx)(v,{index:s.indexOf(e)+1,user:e,selectedProfileKey:n,changeSelectedProfile:r},s.indexOf(e)+1)}))})]}),Object(j.jsxs)("div",{className:"button-block",children:[Object(j.jsx)("button",{onClick:this.goToPrevPage,children:"Prev"}),h.map((function(t){return Object(j.jsx)("button",{className:t===a?"current":null,onClick:e.goToPage,value:t,children:t},t)})),Object(j.jsx)("button",{onClick:this.goToNextPage,children:"Next"})]})]})}}]),s}(r.a.Component),S=x,m=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){return Object(l.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){var e=this.props.selectedProfile,t=e.firstName,s=e.lastName,n=e.description,r=this.props.selectedProfile.adress,a=r.streetAddress,c=r.city,i=r.state,o=r.zip;return Object(j.jsxs)("div",{className:"profile_info",children:[Object(j.jsx)("h2",{children:"Profile Info:"}),Object(j.jsxs)("div",{children:["Selected Profile: ",t," ",s]}),Object(j.jsxs)("div",{children:["Description: ",n]}),Object(j.jsxs)("div",{children:["Address: ",a]}),Object(j.jsxs)("div",{children:["City: ",c]}),Object(j.jsxs)("div",{children:["State: ",i]}),Object(j.jsxs)("div",{children:["Index: ",o]})]})}}]),s}(r.a.Component),P=m,C=function(e){Object(h.a)(s,e);var t=Object(u.a)(s);function s(){var e;Object(l.a)(this,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={error:null,isLoaded:!1,users:[],currentPage:1,selectedProfileKey:0,sortingOptions:{field:"",order:"asc"},seachingData:"",selectedState:"",filteredUsers:[]},e.changeCurrentPage=function(t){var s=t;e.setState({currentPage:s})},e.changeSelectedProfile=function(t){var s=+t;e.setState({selectedProfileKey:s})},e.changeSelectedState=function(t){e.setState({selectedState:t});var s=Object(o.a)(e.state.users),n=[];s.map((function(e){e.adress.state===t&&n.push(e)})),e.setState({filteredUsers:n})},e.changeSortingOptions=function(t){var s=Object(i.a)({},e.state.sortingOptions);s.field===t?s.order="asc"===s.order?"desc":"asc":(s.field=t,s.order="asc"),e.setState({sortingOptions:s}),e.sorting(t,s.order)},e.searching=function(t){e.setState({seachingData:t});var s=Object(o.a)(e.state.users),n=[];s.map((function(e){e.firstName.toLowerCase().includes(t.toLowerCase())&&n.push(e)})),e.setState({filteredUsers:n})},e.sorting=function(t,s){var n,r=e.state.seachingData||e.state.selectedState?Object(o.a)(e.state.filteredUsers):Object(o.a)(e.state.users);n="asc"===s?1:-1,r.sort((function(e,s){return(e[t]||e.adress[t])>(s[t]||s.adress[t])?n:-1*n})),e.state.seachingData||e.state.selectedState?e.setState({filteredUsers:r}):e.setState({users:r})},e}return Object(d.a)(s,[{key:"componentDidMount",value:function(){var e=this;fetch("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,users:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,s=e.isLoaded,n=e.currentPage,r=e.selectedProfileKey,a=e.sortingOptions,c=e.seachingData,i=e.selectedState,o=e.filteredUsers,l=c||i?o:this.state.users,d=l.length/20;return t?Object(j.jsxs)("div",{children:["Error: ",t.message]}):s?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"filter-bar",children:[Object(j.jsx)(g,{searching:this.searching,seachingData:c}),Object(j.jsx)(f,{users:l,selectedState:i,changeSelectedState:this.changeSelectedState})]}),Object(j.jsx)(S,{users:l,pageSize:20,pagesNumber:d,currentPage:n,selectedProfileKey:r,sortingOptions:a,changeCurrentPage:this.changeCurrentPage,changeSelectedProfile:this.changeSelectedProfile,changeSortingOptions:this.changeSortingOptions}),l[r-1]?Object(j.jsx)(P,{selectedProfile:l[r-1]}):null]}):Object(j.jsx)("div",{children:"Loading..."})}}]),s}(r.a.Component),y=C;c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.946608af.chunk.js.map